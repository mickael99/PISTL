<mat-card class="table-container">
  <div class="dropdown-container">
    <mat-form-field appearance="fill">
      <mat-label>Select domain</mat-label>
      <mat-select [(value)]="selectedDomain" (selectionChange)="onChange($event)">
        <mat-option *ngFor="let domain of domains | keyvalue" [value]="domain.value">
          {{ domain.value.domainId }} - {{ domain.value.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  
  <div style="margin: 0%;">
    <mat-card-content >
      <table matSort mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>
            <button mat-raised-button color="primary" (click)=" addSysAdmin(element)" style="margin: 8px 8px 8px 0;">Add</button>
          </th>
          <td mat-cell *matCellDef="let element"> {{element[1]}} </td>
        </ng-container>

        <ng-container matColumnDef="dev">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <div style="margin: 5px;">Dev</div>
            <input type="checkbox" [checked]="oneChecked(1)" (change)="unCheckAll(1)">
          </th>
          <td mat-cell *matCellDef="let element" style="text-align: center;"> 
            <p>{{element[2]}}</p>
            <input type="checkbox" [checked]="element[2]" (change)="onAddedToEnv(element[0],1)">       
          </td>
        </ng-container>

        <ng-container matColumnDef="preprod">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> 
            <div style="margin: 5px;">Preprod</div>
            <input type="checkbox" [checked]="oneChecked(1)" (change)="unCheckAll(1)">
          </th>
          <td mat-cell *matCellDef="let element" style="text-align: center;"> 
            <p>{{element[3]}}</p>
            <input type="checkbox" [checked]="element[3]" (change)="onAddedToEnv(element[0], 2)">       
          </td>
        </ng-container>

        <ng-container matColumnDef="prod">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <div style="margin: 5px;">Prod</div>
            <input type="checkbox" [checked]="oneChecked(3)" (change)="unCheckAll(3)">
          </th>
          <td mat-cell *matCellDef="let element" style="text-align: center;"> 
            <p>{{element[4]}}</p>
            <input type="checkbox" [checked]="element[4]" (change)="onAddedToEnv(element[0], 3)">       
          </td>
        </ng-container>

        <ng-container matColumnDef="test">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <div style="margin: 5px;">Test</div>
            <input type="checkbox" [checked]="oneChecked(4)" (change)="unCheckAll(4)">
          </th>
          <td mat-cell *matCellDef="let element" style="text-align: center;"> 
            <p>{{element[5]}}</p>
            <input type="checkbox" [checked]="element[5]" (change)="onAddedToEnv(element[0], 4)">       
          </td>
        </ng-container>

        <ng-container matColumnDef="prodCopy">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <div style="margin: 5px;">ProdCopy</div>
            <input type="checkbox" [checked]="oneChecked(5)" (change)="unCheckAll(5)">
          </th>
          <td mat-cell *matCellDef="let element" style="text-align: center;"> 
            <p>{{element[6]}}</p>
            <input type="checkbox" [checked]="element[6]" (change)="onAddedToEnv(element[0], 5)">       
          </td>
        </ng-container>

        <ng-container matColumnDef="staging">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <div style="margin: 5px;">Staging</div>
            <input type="checkbox" [checked]="oneChecked(6)" (change)="unCheckAll(6)">
          </th>
          <td mat-cell *matCellDef="let element" style="text-align: center;"> 
            <p>{{element[7]}}</p>
            <input type="checkbox" [checked]="element[7]" (change)="onAddedToEnv(element[0], 6)">       
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      </table>

    </mat-card-content>
    <br>
    <mat-card-footer>
        <mat-paginator [pageSizeOptions]="[10,20]" showFirstLastButtons></mat-paginator>
    </mat-card-footer>
  </div>
</mat-card>