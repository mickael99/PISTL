<div class="container">
  <ng-container *ngIf="showForm && !show2FA">
    <app-login
      [showForm]="showForm"
      (hideForm)="hideLoginForm()"
      (loginData)="onLoginData($event)"
      (allow2FA)="allow2FA()"
    ></app-login>
  </ng-container>

  <ng-container *ngIf="show2FA && !showForm">
    <app-two-fa
      (hide2FA)="hide2FA()"
      (loginData)="onLoginData($event)"
    ></app-two-fa>
  </ng-container>

  <ng-container *ngIf="!show2FA && !showForm">
    <header>
      <picture>
        <img src="../assets/logo.png" class="logo" alt="Logo DAT UpClear" />
      </picture>
      <nav class="main-nav">
        <ul class="main-nav-list">
          <li class="list">
            <div ngbDropdown class="d-inline-block dropdown">
              <a class="btn--1" id="dropdownBasic1" ngbDropdownToggle>
                Domain
              </a>
              <div
                ngbDropdownMenu
                aria-labelledby="dropdownBasic1"
                class="dropdown-menu"
              >
                <a
                  ngbDropdownItem
                  routerLink="domain-administration"
                  class="btn--2"
                  >Domain Administration</a
                >
                <a
                  ngbDropdownItem
                  routerLink="sys-admin-by-domain"
                  class="btn--2"
                  >SysAdmin by Domain</a
                >
                <a
                  ngbDropdownItem
                  [routerLink]="'domain-by-sys-admin'"
                  class="btn--2"
                  >Domain by SysAdmin</a
                >
              </div>
            </div>
          </li>
          <li>
            <div ngbDropdown class="d-inline-block dropdown">
              <a class="btn--1" id="dropdownBasic1" ngbDropdownToggle>
                Infrastructure
              </a>
              <div
                ngbDropdownMenu
                aria-labelledby="dropdownBasic1"
                class="dropdown-menu"
              >
                <a
                  ngbDropdownItem
                  routerLink="database"
                  class="btn--2 btn--less--width"
                  >Database</a
                >
                <a
                  ngbDropdownItem
                  routerLink="server"
                  class="btn--2 btn--less--width"
                  >Server</a
                >
                <a
                  ngbDropdownItem
                  routerLink="server-parameter"
                  class="btn--2 btn--less--width"
                  >Server Parameter</a
                >
              </div>
            </div>
          </li>
          <li>
            <a routerLink="/users" class="btn--1">Users </a>
          </li>
          <li>
            <a class="btn--1" routerLink="/reports">Reports </a>
          </li>

          <li>
            <a routerLink="/account">
              <!-- <div class="account--link"> -->
              <p class="text nav-end account--link">
                Hello <strong>{{ email }}</strong
                >!
              </p>
              <!-- </div> -->
            </a>
          </li>
          <li>
            <a href="#">
              <button
                mat-raised-button
                color="primary"
                class="btn color-button--log-off nav-end--2"
                (click)="deconnexion()"
              >
                Log off
              </button>
            </a>
          </li>
        </ul>
      </nav>
    </header>
    <router-outlet></router-outlet>
  </ng-container>
  <hr />
</div>

<!-- Error pop-up -->
<div>
  <app-error-popup
    *ngIf="show_error_popup"
    [errorMessage]="error_message"
    (close)="closeErrorPopup()"
  ></app-error-popup>
</div>
